Metadata-Version: 2.4
Name: yeastsam
Version: 0.1.0
Summary: Yeast cell analysis and mask processing tools (CLI + GUI).
Author: Yonghao Zhao
License: MIT
Project-URL: Homepage, https://github.com/YonghaoZhao722/YeastSAM
Project-URL: Documentation, https://yeastsamdoc.readthedocs.io/en/latest/
Project-URL: Repository, https://github.com/YonghaoZhao722/YeastSAM
Project-URL: Bug Tracker, https://github.com/YonghaoZhao722/YeastSAM/issues
Requires-Python: >=3.9
Description-Content-Type: text/markdown

# YeastSAM
[![bioRxiv](https://img.shields.io/badge/bioRxiv-10.1101%2F2025.09.17.676679-blue)](https://www.biorxiv.org/content/10.1101/2025.09.17.676679v1)
[![DOI](https://zenodo.org/badge/DOI/10.5281/zenodo.17204942.svg)](https://doi.org/10.5281/zenodo.17204942)


<div align="center">
  <img src="src/yeastsam.png" alt="YeastSAM Logo" width="200"/>
</div>

YeastSAM is a model and a framework for yeast cell analysis and mask processing. It provides an intuitive GUI launcher and various tools for generating masks, image registration, outline conversion, and mother-bud pair separation. For detailed documentation, visit [YeastSAM](https://yeastsamdoc.readthedocs.io/en/latest/).


## Quick Start

If you just want to run YeastSAM, you can refer to [µSAM](https://github.com/computational-cell-analytics/micro-sam) to install the framework. We provide custom weights for better yeast cell segmentation that can be downloaded from our [GitHub Releases](https://github.com/YonghaoZhao722/YeastSAM/releases). The custom weights can be used with napari, [BAND](https://computational-cell-analytics.github.io/micro-sam/micro_sam.html#using-micro_sam-on-band), [CLI](https://computational-cell-analytics.github.io/micro-sam/micro_sam.html#using-the-command-line-interface-cli), and [QuPath](https://github.com/ksugar/qupath-extension-sam).

## Dataset
The dataset used for training and validation can be found at Zenodo: https://zenodo.org/records/17204942, including DIC and the masks.

## Installation

### **Prerequisite: Conda**

YeastSAM requires a [Conda](https://docs.conda.io/en/latest/) environment. If you do not already have Conda or Miniconda installed, please install one of them first:

- [Conda](https://docs.conda.io/projects/conda/en/stable/user-guide/install/index.html#regular-installation) or [Miniconda](https://www.anaconda.com/docs/getting-started/miniconda/install)


### With Terminal

run the following commands in your terminal:

```bash
git clone https://github.com/YonghaoZhao722/YeastSAM.git
cd YeastSAM
conda env create -f environment.yml
conda activate yeastsam
pip install .
```

### With Installer
YeastSAM can also be installed using the installer.
- MacOS: [YeastSAM.pkg](https://github.com/YonghaoZhao722/YeastSAM/releases/download/1.0.1/YeastSAM.pkg)

## Usage

### Command Line Usage
To start the YeastSAM tools launcher:

```bash
conda activate yeastsam
yeastsam
```

This will open a GUI with four main sections:

### 1. Generate Masks
- **napari**: Opens napari viewer for interactive mask generation and editing. You can load our custom weight YeastSAM for better accuracy in budding yeast. 

### 2. Optional Tools
This section is to fix the offset between smFISH image and DIC (as masks are generated from DIC).
- **Shift Analyzer**: Analyze and detect shifts in your image data
- **Apply Registration**: Apply image registration corrections

### 3. Convert to Outline File
- **Mask2Outline**: Convert mask files to FISH-Quant compatible outline format

### 4. Separation Module
- **Mask Editor**: You can annotate mask images manually or with CNN & U-Net separation module. Download models at [GitHub Releases](https://github.com/YonghaoZhao722/YeastSAM/releases).

## Tools Overview

The `tools/` directory contains the following utilities:

- `shift.py`: Shift detection and analysis
- `registration.py`: Image registration functionality
- `Mask2Outline.py`: Mask to outline conversion
- `mask_editor.py`: Advanced mask editing interface

## Citation
If you are using YeastSAM or the dataset for your research, please cite our paper:

Zhao, Y., Zhu, Z., Yang, S., Li, W. YeastSAM: A Deep Learning Model for Accurate Segmentation of Budding Yeast Cells. bioRxiv 2025.09.17.676679 (2025). https://doi.org/10.1101/2025.09.17.676679

## Acknowledgement

We acknowledge the following reference for inspiring our work:

Archit, A., Freckmann, L., Nair, S. et al. *Segment Anything for Microscopy*. Nat Methods 22, 579–591 (2025). https://doi.org/10.1038/s41592-024-02580-4

See the full [COPYRIGHT](src/COPYRIGHT) notice for details.
